---
sidebar: sidebar 
permalink: use-cloudshell.html 
keywords: cloudshell, command line, aws cli, ontap cli, NetApp Workload Factory, Workload Factory 
summary: Vous pouvez utiliser CloudShell depuis n’importe où dans l’interface utilisateur de NetApp Workload Factory pour émettre des commandes AWS ou ONTAP CLI. 
---
= Utiliser CloudShell dans NetApp Workload Factory
:allow-uri-read: 
:icons: font
:imagesdir: ./media/


[role="lead"]
Ouvrez CloudShell pour exécuter des commandes AWS ou ONTAP CLI depuis n’importe où dans la console NetApp Workload Factory.



== Description de la tâche

CloudShell vous permet d'exécuter des commandes AWS CLI ou des commandes ONTAP CLI dans un environnement de type shell à partir de la console Workload Factory.  Il simule des sessions de terminal dans le navigateur, fournissant des fonctionnalités de terminal et des messages proxy via le backend de Workload Factory.  Il vous permet d'utiliser les informations d'identification AWS et ONTAP que vous avez fournies dans votre compte NetApp .

Les fonctionnalités de CloudShell sont les suivantes :

* Sessions CloudShell multiples : déployez plusieurs sessions CloudShell simultanément pour émettre plusieurs séquences de commandes en parallèle,
* Vues multiples : fractionnez les sessions de l'onglet CloudShell pour afficher deux onglets ou plus horizontalement ou verticalement en même temps
* Changement de nom de session : renommez les sessions si nécessaire
* Persistance du contenu de la dernière session : rouvrez la dernière session si vous la fermez par erreur
* Préférences des paramètres : modifiez la taille de la police et le type de sortie
* Réponses d'erreur générées par l'IA pour les commandes de l'interface de ligne de commande ONTAP
* Prise en charge de la saisie automatique : commencez à taper une commande et utilisez la touche *Tab* pour afficher les options disponibles




== Commandes CloudShell

Dans l'interface graphique de CloudShell, vous pouvez entrer `help` pour afficher les commandes CloudShell disponibles. Après avoir émis la `help` commande, la référence suivante s'affiche.

.Description
NetApp CloudShell est une interface graphique intégrée à NetApp Workload Factory qui vous permet d'exécuter des commandes AWS CLI ou des commandes ONTAP CLI dans un environnement de type shell.  Il simule des sessions de terminal dans le navigateur, fournissant des fonctionnalités de terminal et des messages proxy via le backend dans Workload Factory.  Il vous permet d'utiliser les informations d'identification AWS et ONTAP que vous avez fournies dans votre compte NetApp .

.Commandes disponibles
* `clear`
* `help`
* `[--fsx <fsxId>] <ontap-command> [parameters]`
* `aws <aws-command> <aws-sub-command> [parameters]`


.Contexte
Chaque session de terminal s'exécute dans un contexte spécifique : informations d'identification, région et, éventuellement, système de fichiers FSX pour ONTAP.

+ Toutes les commandes AWS s'exécutent dans le contexte fourni.  Les commandes AWS ne réussiront que si les informations d’identification fournies disposent d’autorisations dans la région spécifiée.

+ Vous pouvez spécifier des commandes ONTAP avec un `fsxId` .  Si vous fournissez un `fsxId` avec une commande ONTAP individuelle, cet ID remplace alors l'ID dans le contexte.  Si la session de terminal n'a pas de contexte d'ID de système de fichiers FSx pour ONTAP , vous devez fournir `fsxId` avec chaque commande ONTAP .

+ Pour mettre à jour différentes spécificités de contexte, procédez comme suit : * Pour modifier les informations d'identification : « using credentials <credentialId> » * Pour modifier la région : « using region <regionCode> » * Pour modifier FSx pour le système de fichiers ONTAP : « using fsx <fileSystemId> »

.Affichage des éléments
* Pour afficher les informations d'identification disponibles : « Afficher les informations d'identification »
* Pour afficher les régions disponibles : « Afficher les régions »
* Pour afficher l'historique des commandes : « show history »


.Variables
Voici des exemples de définition et d'utilisation de variables. Si une valeur de variable contient des espaces, vous devez la définir entre guillemets.

+ * Pour définir une variable : $<variable> = <valeur> * Pour utiliser une variable : $<variable> * Exemple de définition d'une variable : $svm1 = svm123 * Exemple d'utilisation d'une variable : --fsx FileSystem-1 volumes show --vserver $svm1 * Exemple de définition d'une variable avec une valeur de chaîne $comment1 = "Un commentaire avec des espaces"

.Opérateurs
Les opérateurs de shell tels que pipe `|`, l'exécution en arrière-plan `&` et la redirection `>` ne sont pas pris en charge. L'exécution de la commande échoue si vous incluez ces opérateurs.



== Avant de commencer

CloudShell fonctionne dans le contexte de vos identifiants AWS. Pour utiliser CloudShell, vous devez fournir au moins une information d'identification AWS.


NOTE: CloudShell vous permet d'exécuter n'importe quelle commande d'interface de ligne de commande AWS ou ONTAP. Toutefois, si vous voulez travailler dans le contexte d'un système de fichiers FSX pour ONTAP, assurez-vous d'exécuter la commande suivante : `using fsx <file-system-name>`.



== Déployez CloudShell

Vous pouvez déployer CloudShell depuis n’importe où dans la console NetApp Workload Factory.  Vous pouvez également déployer CloudShell à partir de la console NetApp .

[role="tabbed-block"]
====
.Déployer à partir de la console Workload Factory
--
.Étapes
. Connectez-vous à la https://console.workloads.netapp.com["Console Workload Factory"^] .
. Dans le menu, sélectionnez *Administration* puis *CloudShell*.
. Dans la fenêtre CloudShell, sélectionnez les informations d'identification et la région pour la session CloudShell, puis sélectionnez la flèche pour continuer.
+
image:screenshot-deploy-cloudshell-session.png["Capture d'écran affichant une nouvelle session CloudShell."]

. Entrez `help` pour afficher les instructions et disponibles ou consultez les documents de référence de l'interface de ligne de commande suivants pour <<Commandes CloudShell,Commandes CloudShell>>connaître les commandes disponibles :
+
** link:https://docs.aws.amazon.com/cli/latest/reference/["Référence CLI AWS"^]: Pour les commandes liées à FSX pour ONTAP, sélectionnez *fsx*.
** link:https://docs.netapp.com/us-en/ontap-cli/["Référence CLI ONTAP"^]


. Exécutez des commandes dans la session CloudShell.
+
Si une erreur se produit après l'émission d'une commande de l'interface de ligne de commande ONTAP, sélectionnez l'icône d'ampoule pour obtenir une brève réponse d'erreur générée par l'IA, avec une description de la défaillance, la cause de la défaillance et une résolution détaillée. Sélectionnez *Lire plus* pour plus de détails.



--
.Déployer à partir de la console NetApp
--
.Étapes
. Connectez-vous à lalink:https://console.netapp.com["Console NetApp"^] .
. Dans le menu, sélectionnez *Charges de travail* puis *Administration*.
. Dans le menu Administration, sélectionnez *CloudShell*.
. Dans la fenêtre CloudShell, sélectionnez les informations d'identification et la région pour la session CloudShell, puis sélectionnez la flèche pour continuer.
+
image:screenshot-deploy-cloudshell-session.png["Capture d'écran affichant une nouvelle session CloudShell."]

. Entrez `help` pour afficher les commandes et instructions CloudShell disponibles ou reportez-vous aux documents de référence CLI suivants pour connaître les commandes disponibles :
+
** link:https://docs.aws.amazon.com/cli/latest/reference/["Référence CLI AWS"^]: Pour les commandes liées à FSX pour ONTAP, sélectionnez *fsx*.
** link:https://docs.netapp.com/us-en/ontap-cli/["Référence CLI ONTAP"^]


. Exécutez des commandes dans la session CloudShell.
+
Si une erreur se produit après l'émission d'une commande de l'interface de ligne de commande ONTAP, sélectionnez l'icône d'ampoule pour obtenir une brève réponse d'erreur générée par l'IA, avec une description de la défaillance, la cause de la défaillance et une résolution détaillée. Sélectionnez *Lire plus* pour plus de détails.



--
====
Les tâches CloudShell affichées dans cette capture d’écran peuvent être effectuées en sélectionnant le menu Actions d’un onglet de session CloudShell ouvert.  Les instructions pour chacune de ces tâches suivent.

image:screenshot-cloudshell-tab-menu.png["Capture d'écran qui montre le menu des actions de l'onglet CloudShell avec des options telles que renommer, dupliquer, fermer d'autres onglets et tout fermer."]



== Renommer un onglet de session CloudShell

Vous pouvez renommer un onglet de session CloudShell pour vous aider à identifier la session.

.Étapes
. Sélectionnez le menu actions de l’onglet session CloudShell.
. Sélectionnez *Renommer*.
. Entrez un nouveau nom pour l'onglet session, puis cliquez en dehors du nom de l'onglet pour définir le nouveau nom.


.Résultat
Le nouveau nom apparaît dans l'onglet de session CloudShell.



== Dupliquer l'onglet de session CloudShell

Vous pouvez dupliquer un onglet de session CloudShell pour créer une nouvelle session avec le même nom, les mêmes informations d'identification et la même région. Le code de l'onglet d'origine n'est pas dupliqué dans l'onglet dupliqué.

.Étapes
. Sélectionnez le menu actions de l’onglet session CloudShell.
. Sélectionnez *Dupliquer*.


.Résultat
Le nouvel onglet s'affiche avec le même nom que l'onglet d'origine.



== Fermez les onglets de session CloudShell

Vous pouvez fermer les onglets CloudShell un par un, fermer les autres onglets sur lequel vous ne travaillez pas ou fermer tous les onglets en même temps.

.Étapes
. Sélectionnez le menu actions de l’onglet session CloudShell.
. Sélectionnez l'une des options suivantes :
+
** Sélectionnez « X » dans la fenêtre de l'onglet CloudShell pour fermer un onglet à la fois.
** Sélectionnez *Fermer les autres onglets* pour fermer tous les autres onglets ouverts, sauf celui sur lequel vous travaillez.
** Sélectionnez *Fermer tous les onglets* pour fermer tous les onglets.




.Résultat
Les onglets de session CloudShell sélectionnés se ferment.



== Fractionner les onglets de session CloudShell

Vous pouvez fractionner les onglets de session CloudShell pour afficher deux onglets ou plus en même temps.

.Étape
Faites glisser et déposez les onglets de session CloudShell en haut, en bas, à gauche ou à droite de la fenêtre CloudShell pour fractionner la vue.

image:screenshot-cloudshell-split-view.png["Capture d'écran affichant deux onglets CloudShell divisés horizontalement. Les onglets apparaissent côte à côte."]



== Mettre à jour les paramètres d'une session CloudShell

Vous pouvez mettre à jour les paramètres de police et de type de sortie pour les sessions CloudShell.

.Étapes
. Déployez une session CloudShell.
. Dans l'onglet CloudShell, sélectionnez l'icône Paramètres.
+
La boîte de dialogue des paramètres s'affiche.

. Mettez à jour la taille de police et le type de sortie selon vos besoins.
+

NOTE: La sortie enrichie s'applique aux objets JSON et au formatage de la table. Toutes les autres sorties apparaissent sous forme de texte brut.

. Sélectionnez *appliquer*.


.Résultat
Les paramètres CloudShell sont mis à jour.
